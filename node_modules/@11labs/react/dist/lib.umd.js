!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("@11labs/client")):"function"==typeof define&&define.amd?define(["exports","react","@11labs/client"],n):n((e||self).react={},e.react,e.client)}(this,function(e,n,t){function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r.apply(null,arguments)}e.useConversation=function(e){var u=n.useRef(null),o=n.useRef(null),i=n.useState("disconnected"),c=i[0],l=i[1],s=n.useState("listening"),a=s[0],f=s[1];return n.useEffect(function(){return function(){var e;null==(e=u.current)||e.endSession()}},[]),{startSession:function(n){try{var i,c=function(c){return i?c:function(i,c){try{var s=(o.current=t.Conversation.startSession(r({},null!=e?e:{},null!=n?n:{},{onModeChange:function(e){f(e.mode)},onStatusChange:function(e){l(e.status)}})),Promise.resolve(o.current).then(function(e){return u.current=e,u.current.getId()}))}catch(e){return c(!0,e)}return s&&s.then?s.then(c.bind(null,!1),c.bind(null,!0)):c(!1,s)}(0,function(e,n){if(o.current=null,e)throw n;return n})};if(u.current)return Promise.resolve(u.current.getId());var s=function(){if(o.current)return Promise.resolve(o.current).then(function(e){var n=e.getId();return i=1,n})}();return Promise.resolve(s&&s.then?s.then(c):c(s))}catch(e){return Promise.reject(e)}},endSession:function(){try{var e=u.current;return u.current=null,Promise.resolve(null==e?void 0:e.endSession()).then(function(){})}catch(e){return Promise.reject(e)}},setVolume:function(e){var n;null==(n=u.current)||n.setVolume({volume:e.volume})},getInputByteFrequencyData:function(){var e;return null==(e=u.current)?void 0:e.getInputByteFrequencyData()},getOutputByteFrequencyData:function(){var e;return null==(e=u.current)?void 0:e.getOutputByteFrequencyData()},getInputVolume:function(){var e,n;return null!=(e=null==(n=u.current)?void 0:n.getInputVolume())?e:0},getOutputVolume:function(){var e,n;return null!=(e=null==(n=u.current)?void 0:n.getOutputVolume())?e:0},status:c,isSpeaking:"speaking"===a}}});
//# sourceMappingURL=lib.umd.js.map
